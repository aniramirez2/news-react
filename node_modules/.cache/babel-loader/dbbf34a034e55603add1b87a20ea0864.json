{"ast":null,"code":"var _jsxFileName = \"/home/anamariaramirez/rock-news/src/components/pages/Busca/index.jsx\";\nimport React from 'react';\nimport { api, API_KEY } from '../../../api/config.js';\nimport CardNoticia from '../../CardNoticia';\n\nclass Busca extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listaNoticias: []\n    };\n  }\n\n  componentDidMount() {\n    const {\n      match: {\n        params: {\n          termo\n        }\n      }\n    } = this.props;\n    console.log('busca', this.props);\n    console.log('match', termo);\n    api.get(`/everything?q=${termo}&language=pt&apiKey=${API_KEY}`).then(res => {\n      if (res.status === 200) this.setState({\n        listaNoticias: res.data.articles\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const ultimoTermo = prevProps.match.params.termo;\n    const novoTermo = this.props.match.params.termo;\n    if (ultimoTermo !== novoTermo) api.get(`/everything?q=${novoTermo}&language=pt&apiKey=${API_KEY}`).then(res => {\n      if (res.status === 200) this.setState({\n        listaNoticias: res.data.articles\n      });\n    });\n  }\n\n  render() {\n    const {\n      listaNoticias\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.props.match.params.termo), React.createElement(\"div\", {\n      className: \"containerNews\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, listaNoticias.length > 0 ? listaNoticias.map((noticia, index) => React.createElement(CardNoticia, {\n      noticia: noticia,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"m-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Carregando...\"))));\n  }\n\n}\n\nexport default Busca;","map":{"version":3,"sources":["/home/anamariaramirez/rock-news/src/components/pages/Busca/index.jsx"],"names":["React","api","API_KEY","CardNoticia","Busca","Component","constructor","props","state","listaNoticias","componentDidMount","match","params","termo","console","log","get","then","res","status","setState","data","articles","componentDidUpdate","prevProps","ultimoTermo","novoTermo","render","length","map","noticia","index"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,wBAA7B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE;AADJ,KAAb;AAGD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA;AAAF;AAAV;AAAT,QAAmC,KAAKN,KAA9C;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKR,KAA1B;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;AACAZ,IAAAA,GAAG,CAACe,GAAJ,CAAS,iBAAgBH,KAAM,uBAAsBX,OAAQ,EAA7D,EACGe,IADH,CACQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EACE,KAAKC,QAAL,CAAc;AAAEX,QAAAA,aAAa,EAAES,GAAG,CAACG,IAAJ,CAASC;AAA1B,OAAd;AACH,KAJH;AAKD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,UAAMC,WAAW,GAAGD,SAAS,CAACb,KAAV,CAAgBC,MAAhB,CAAuBC,KAA3C;AACA,UAAMa,SAAS,GAAG,KAAKnB,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBC,KAA1C;AAEA,QAAIY,WAAW,KAAKC,SAApB,EACEzB,GAAG,CAACe,GAAJ,CAAS,iBAAgBU,SAAU,uBAAsBxB,OAAQ,EAAjE,EACGe,IADH,CACQC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EACE,KAAKC,QAAL,CAAc;AAAEX,QAAAA,aAAa,EAAES,GAAG,CAACG,IAAJ,CAASC;AAA1B,OAAd;AACH,KAJH;AAKH;;AAEDK,EAAAA,MAAM,GAAG;AAEP,UAAM;AAAElB,MAAAA;AAAF,QAAoB,KAAKD,KAA/B;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,KAAKD,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBC,KAA1D,CADF,EAEE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEIJ,aAAa,CAACmB,MAAd,GAAuB,CAAvB,GACEnB,aAAa,CAACoB,GAAd,CAAkB,CAACC,OAAD,EAAUC,KAAV,KAAoB,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAED,OAAtB;AACpC,MAAA,GAAG,EAAEC,KAD+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtC,CADF,GAIE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CANN,CAFF,CADF;AAgBD;;AAnDiC;;AAsDpC,eAAe3B,KAAf","sourcesContent":["import React from 'react';\nimport { api, API_KEY } from '../../../api/config.js';\nimport CardNoticia from '../../CardNoticia';\n\nclass Busca extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listaNoticias: [],\n    }\n  }\n\n  componentDidMount() {\n    const { match: { params: { termo } } } = this.props;\n    console.log('busca', this.props);\n    console.log('match', termo)\n    api.get(`/everything?q=${termo}&language=pt&apiKey=${API_KEY}`)\n      .then(res => {\n        if (res.status === 200)\n          this.setState({ listaNoticias: res.data.articles });\n      });\n  }\n\n  componentDidUpdate(prevProps) {\n    const ultimoTermo = prevProps.match.params.termo;\n    const novoTermo = this.props.match.params.termo;\n\n    if (ultimoTermo !== novoTermo)\n      api.get(`/everything?q=${novoTermo}&language=pt&apiKey=${API_KEY}`)\n        .then(res => {\n          if (res.status === 200)\n            this.setState({ listaNoticias: res.data.articles });\n        });\n  }\n\n  render() {\n\n    const { listaNoticias } = this.state;\n\n    return (\n      <div>\n        <h1 className=\"text-center mt-3\">{this.props.match.params.termo}</h1>\n        <div className=\"containerNews\" >\n          {\n            listaNoticias.length > 0 ?\n              listaNoticias.map((noticia, index) => <CardNoticia noticia={noticia}\n                key={index}/>)\n              :\n              <div className=\"m-5\">\n                <span>Carregando...</span>\n              </div>\n          }\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Busca;"]},"metadata":{},"sourceType":"module"}